# 📚 개발 도서 스터디 템플릿

## 🧠 1. 책을 읽기 전에

항상 몰라서 답답한 넷린이를 조금이나마 벗어나자

---

## 📂 2. 내용 정리 (자신의 언어로 요약)


- linux: /etc/hosts
- nslookup www.naver.com
```
Server:		168.126.63.1
Address:	168.126.63.1#53

Non-authoritative answer:
www.naver.com	canonical name = www.naver.com.nheos.com.
Name:	www.naver.com.nheos.com
Address: 223.130.192.248
Name:	www.naver.com.nheos.com
Address: 223.130.200.219
Name:	www.naver.com.nheos.com
Address: 223.130.200.236
Name:	www.naver.com.nheos.com
Address: 223.130.192.247

# 부하분산
# DNS 서버가 번갈아 제공
```


- 고정 ip
- 동적 ip
	- 노드가 network 연결때마다 할당
	- by DHCP (다이나믹 호스트 컨피규레이션 프로토콜)
		- 제공: ip, gateway 주소, 서브넷 마스크, DNS 서버 주소
	- 예) 가정 공유기
	- 매번 바뀌는건 아니구 일정시간동안 픽스할수도
	- 보안이 중요시 노드마다 ip를 고정해서 할당하기도
		- 이 ip는 항상 이 장비 -> 보안 정책 적용이 쉬움 + 추적 가능해지는


- 사설 ip로 사용할 수 있는 주소범위
	- 192.168.x.x
	- 10.x.x.x  <-- 이게 사설 ip인지 몰랐다는 ㄷ ㄷ
	- 172.16.xx ~ 172.31.xx

- NAT
	- 인터넷 연결을 하기 위해서 패킷의 사설 ip를 공인 ip로 변환
	- 라우터 장비의 담당

- src 사설ip ----> SNAT ----> 공인ip  ----> 목적지로 이동 ----> DNAT ----> dst 사설ip



---

## 💬 3. 이야기하고 싶은 질문 / 포인트


### 1. 경험
- 깡통 리눅스에서 DB 등 연동할 때 localhost는 접속이 안되고 127.0.0.1로 작성해야 연결되는 경우가 있는데 이거는 /etc/hosts 문제일까? (당시 확인해보지 못했음 ㅠ_ㅠ)

###  2. 스위치, 라우터 -- 그리고 회사
- 라우터 / 스위치 관련해서 헷갈리는 부분이 있었음 (어떤게 더 큰 범위인지 등)
---
구조 개요
```
                       인터넷 (Internet)
                            │
                      ┌─────┴───────┐
                      │   라우터      │
                      │ (Gateway)   │
                      └─────┬───────┘
                            │  
              ┌─────────────┼─────────────┐
              │             │             │
      ┌───────┴───┐ ┌───────┴───┐ ┌───────┴───┐
      │ 스위치 1층  │ │ 스위치 2층   │ │ 스위치 3층  │
      │192.168.1.x│ │192.168.2.x│ │192.168.3.x│
      └─────┬─────┘ └─────┬─────┘ └─────┬─────┘
            │             │             │  
          WAP1          WAP2          WAP3    <-- (Wireless Access Point)
           📶            📶            📶
        SSID_KTDS     SSID_KTDS     SSID_KTDS
           ~~~           ~~~           ~~~
      ┌~~~~┴~~~~┐   ┌~~~~┴~~~~┐   ┌~~~~┴~~~~┐
      ~~~      ~~~  ~~~     ~~~   ~~~      ~~~
      💻       💻   💻      💻    💻       💻

     1층 총무팀          2층 영업팀          3층 개발팀

------------------------------------
  3층 노트북 → 1층 노트북 통신
  💻 ~~~ WAP3 ─ 스위치3층 ─ 라우터 ─ 스위치1층 ─ WAP1 ~~~ 💻
     

  노트북 → 인터넷 접속
  💻 ~~~ WAP2 ─ 스위치2층 ─ 라우터 ─ 인터넷
  
```
------------------------------------------------------
- 여러개의 스위치로 구성될 수 있다. 스위치끼리 유선으로 연결할 수 있다. 
- 하나의 스위치에 WAP 이 여럿 달리는 구조
- 사무실 층별  스위치는 1대로 충분할 것임 
```
                         인터넷 (Internet)
                               │
                        ┌──────┴──────┐
                        │    라우터    │
                        │  (Gateway)  │
                        └──────┬──────┘
                               │
          ┌────────────────────┼────────────────────┐
          │                    │                    │
    ┌─────┴─────┐       ┌──────┴──────┐      ┌─────┴─────┐
    │ 스위치 5층  │       │  스위치 9층   │       │기타 층들...│
    │192.168.5.x│       │192.168.9.x  │      │           │
    └─────┬─────┘       └──────┬──────┘      └───────────┘
          │                    │
      ┌───┼───┐         ┌──────┼──────┐
      │   │   │         │      │      │
    WAP5A WAP5B WAP5C  WAP9A  WAP9B  WAP9C
     📶   📶   📶      📶    📶    📶
  5f_main 5f_sub 5f_conf 9f_1  9f_2  9f_3
     ~~~   ~~~   ~~~    ~~~   ~~~   ~~~
     💻💻  💻💻  💻💻   💻💻  💻💻  💻💻

  5층 (마케팅팀)              9층 (경영진/임원진)
  - WAP5A: 5f_main (메인)    - WAP9A: 9f_1 (회장실)
  - WAP5B: 5f_sub (팀별)     - WAP9B: 9f_2 (임원실)
  - WAP5C: 5f_conf (회의실)  - WAP9C: 9f_3 (비서실)


```
------------------------------------------------------
회사의 사내망 vs 외부망 WiFi
둘이 어디까지 같고 어디부터 다를까? 즉 분리되는지점은?
  - VLAN: 물리적으로는 스위치 1대지만, 논리적으로는 여러 개의 독립 네트워크처럼 동작

```
 ❌ VLAN
  1대의 스위치
  ├─ 직원 PC
  ├─ 방문자 PC
  └─ 중요 서버
       ↕️
  모든 기기가 서로 통신 가능 (위험!)

  ✅ VLAN
  1대의 스위치
  ├─ VLAN10: 직원 PC ───┐
  ├─ VLAN20: 방문자 PC ──┼─ 서로 차단!
  └─ VLAN30: 중요 서버 ──┘
```

---
궁금증)  물리적으로 스위치 분리하는거랑 VLAN으로 논리 분리하는거랑 어떻게 차이나나? 

  VLAN (논리적 분리)
  스위치 1대
  ├─ VLAN10: 직원용 (포트 1-16)
  ├─ VLAN20: 게스트용 (포트 17-32)
  └─ VLAN30: 서버용 (포트 33-48)

  물리적 스위치 분리
  ├─ 스위치A: 직원용 전용
  ├─ 스위치B: 게스트용 전용
  └─ 스위치C: 서버용 전용

보안적인 측면에서 용도를 나눌 수 있겠다.
```
💼 일반 기업 (VLAN 선호)
  "보안은 충분하고 비용 절약하자"
  → VLAN으로 직원/게스트/서버 분리

  🏦 금융기관 (물리 분리 선호)
  "절대 보안, 비용은 부차적"
  → 거래시스템/일반업무/인터넷 물리 분리

```
 
그래도 아래 공통된 역할을 함. 
경제적 이유와 보안성을 따져 상황에 맞게 구축하는군!!
- 네트워크 분리 ✓
- 보안 강화 ✓
- 트래픽 격리 ✓


```
  기업 네트워크 구성도 (방화벽 + VLAN 조합)

                       인터넷 (Internet)
                             │
                      ┌──────┴──────┐
                      │    라우터    │
                      │ (Gateway)   │
                      └──────┬──────┘
                             │
                      ┌──────┴──────┐
                      │   방화벽      │ ← 보안 정책 적용
                      │(Firewall)   │
                      └──────┬──────┘
                             │
                      ┌──────┴──────┐
                      │ 코어 스위치    │ ← VLAN 분리
                      │(Core Switch)│
                      └──────┬──────┘
                             │
             ┌───────────────┼───────────────┐
             │               │               │
          VLAN10          VLAN20          VLAN30
        (사내망)          (게스트망)          (서버망)
      192.168.10.x      192.168.20.x    192.168.30.x
             │               │               │
      ┌──────┴──────┐ ┌──────┴──────┐ ┌──────┴──────┐
      │사내망 스위치   │ │  게스트 스위치  │ │  서버망 스위치 │
      └──────┬──────┘ └──────┬──────┘ └──────┬──────┘
             │               │               │
      ┌──────┼──────┐        │        ┌──────┼──────┐
      │      │      │        │        │      │      │
    WAP1   WAP2   데스크톱   WAP3      DB서버 웹서버 파일서버
     📶     📶      💻       📶       🖥️    🖥️    🖥️
  SSID_KTDS SSID_KTDS    게스트WiFi
     ~~~     ~~~           ~~~
     💻💻    💻💻           💻💻


------------------------------------------------------
  하나의 물리적 스위치
			  ├─ VLAN10 (가상 네트워크1) → 직원들
			  ├─ VLAN20 (가상 네트워크2) → 방문자들
			  └─ VLAN30 (가상 네트워크3) → 서버들


------------------------------------------------------
 VLAN 10 (사내망) - 192.168.10.x
  - 접근 가능: 인트라넷, 업무 시스템, 제한된 인터넷

  VLAN 20 (게스트망) - 192.168.20.x
  - 접근 가능: 인터넷만 (사내 시스템 접근 불가)

  VLAN 30 (서버망) - 192.168.30.x
  - 장비: 데이터베이스, 웹서버, 파일서버
  - 보안: 최고 수준, 특정 포트만 개방

------------------------------------------------------
VLAN간 방화벽 정책을 추가한다면?
(예시)

  정책1: VLAN10 → VLAN30
    출발지: 192.168.10.0/24
    목적지: 192.168.30.0/24
    서비스: HTTP, SMB
    시간: 09:00-18:00
    동작: 허용

  정책2: VLAN20 → VLAN30
    출발지: 192.168.20.0/24
    목적지: 192.168.30.0/24
    서비스: ANY
    시간: ANY
    동작: 차단

------------------------------------------------------
VLAN으로 나누고, 
방화벽으로 통제하는 것이 기본

```


### 3. WAP
   역할:
  - 유선 네트워크(스위치)에 유선으로 연결
  - WiFi 신호를 송출하여 무선 기기들을 네트워크에 연결
  - 무선과 유선 간의 변환지점

 집 vs 회사 차이점:
  - 집: 공유기 1대가 라우터 + WAP 기능을 모두 수행
  - 회사: 라우터는 따로 있고, WAP는 단순히 WiFi 신호만 송출

---
